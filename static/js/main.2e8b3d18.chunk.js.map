{"version":3,"sources":["components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","images/header/logo.svg","images/profile/image.jpg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","headerImage","alt","CurrentUserContext","React","createContext","Card","currentUser","useContext","useState","card","likes","some","i","_id","liked","setLiked","isOwn","owner","onClick","onCardClick","link","name","onCardDelete","type","onCardLike","likeCounter","Main","loader","onEditAvatar","avatar","onEditProfile","about","onAddCard","cards","map","length","noValidate","Footer","PopupWithForm","isOpen","id","onClose","onSubmit","title","children","submitText","AddPlacePopup","buttonText","setButtonText","setName","setLink","handleClosePopup","setTimeout","e","preventDefault","onAddPlace","then","finally","placeholder","minLength","maxLength","onChange","target","value","required","ImagePopup","api","option","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","authorization","_apiResultReturn","data","method","body","JSON","stringify","isLikes","likeCard","deleteCardLike","EditProfilePopup","setAbout","useEffect","onUpdateUser","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddCardPopupOpen","setAddCardPopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","isImagePopupOpen","setIsImagePopupOpen","setCurrentUser","userInfoGet","setUserInfoGet","setCards","closeAllPopups","all","getUserInfo","getInitialCards","userInfo","cardList","catch","err","console","log","Provider","profileImage","isLiked","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","patchProfileEdit","result","postNewCard","avatarEdit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2e8b3d18.chunk.js","sourcesContent":["function Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img\r\n        className=\"header__logo\"\r\n        src={props.headerImage}\r\n        alt=\"Лого Место\"\r\n      />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [liked, setLiked] = React.useState(\r\n    props.card.likes.some((i) => i._id === currentUser._id)\r\n  );\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function likeClick() {\r\n    setLiked(!liked);\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <div className=\"element__image-container\">\r\n        <img\r\n          onClick={handleClick}\r\n          className=\"element__image\"\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n        ></img>\r\n      </div>\r\n      <button\r\n        onClick={handleDeleteClick}\r\n        className={`element__trash ${isOwn ? \"element__trash_active\" : \"\"}`}\r\n        type=\"button\"\r\n      />\r\n      <div className=\"element__text-box\">\r\n        <h4 className=\"element__name\">{props.card.name}</h4>\r\n        <div className=\"element__like-box\">\r\n          <button\r\n            onClick={likeClick}\r\n            className={`element__like ${liked && \"element__like_active\"}`}\r\n            type=\"button\"\r\n          />\r\n          <p className=\"element__likes\">{props.likeCounter}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <div className={`loading ${props.loader && 'hide'}`}></div>\r\n      <main className={`content ${!props.loader && 'hide'}`}>\r\n        <section className=\"profile\">\r\n          <div className=\"profile__avatar-container\">\r\n            <img onClick={props.onEditAvatar}\r\n            className=\"profile__avatar\"\r\n            src={currentUser.avatar}\r\n            alt=\"Фото профиля\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name || ''}</h1>\r\n            <button onClick={props.onEditProfile} className=\"profile__edit-button\" type=\"button\" />\r\n            <p className=\"profile__description\">{currentUser.about || ''}</p>\r\n          </div>\r\n          <button onClick={props.onAddCard} className=\"profile__add\" type=\"button\" />\r\n        </section>\r\n\r\n        <section className=\"elements\">\r\n          <ul className=\"elements_list\">\r\n            {props.cards.map(card =>\r\n              <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              likeCounter={card.likes.length}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n            )}\r\n          </ul>\r\n        </section>\r\n      </main>\r\n\r\n      <div className=\"popup popup_delete\">\r\n        <div className=\"popup__overlay popup__overlay_delete\"></div>\r\n        <div className=\"popup__container\">\r\n          <button className=\"popup__close popup__close_delete\" type=\"button\" />\r\n          <form className=\"form form_type_delete\" name=\"imageDelete\" noValidate>\r\n            <h4 className=\"form__title form__title_delete\">Вы уверены?</h4>\r\n            <button type=\"submit\" className=\"form__submit\">Да</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n\r\n\r\n}\r\n\r\nexport default Main\r\n","function Footer(props) {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","function PopupWithForm(props) {\r\n  return (\r\n      <div className={`popup ${props.isOpen && 'popup_opened'}`} id={props.name}>\r\n        <div onClick={props.onClose} className=\"popup__overlay\"></div>\r\n        <div className=\"popup__container\">\r\n          <button onClick={props.onClose} className=\"popup__close popup__close_edit\" type=\"button\" />\r\n          <form onSubmit={props.onSubmit} className=\"form\" name={props.name} noValidate>\r\n            <h2 className=\"form__title\">{props.title}</h2>\r\n            {props.children}\r\n            <button type=\"submit\" className=\"form__submit\">{props.submitText}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import PopupWithForm from './PopupWithForm.js'\r\nimport React from 'react';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [buttonText, setButtonText] = React.useState('Создать');\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n  function handleClosePopup() {\r\n    props.onClose()\r\n    setTimeout(() => {\r\n      setName('');\r\n      setLink('');\r\n    }, 200)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Создаем...')\r\n    props.onAddPlace({name, link})\r\n      .then(() => handleClosePopup())\r\n      .finally(() => {\r\n        setButtonText('Создать')\r\n      })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"cardAdd\"\r\n      title=\"Новое место\"\r\n      submitText={buttonText}\r\n      isOpen={props.isOpen}\r\n      onClose={handleClosePopup}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__field\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form__input popup__input-text_type_image-name\"\r\n          id=\"image-name-input\"\r\n          name=\"image_name\"\r\n          placeholder=\"Название\"\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n          onChange={handleNameChange}\r\n          value={name}\r\n          required\r\n        />\r\n        <span className=\"form__input-error\" id=\"image-name-input-error\"></span>\r\n      </label>\r\n      <label className=\"form__field\">\r\n        <input\r\n          type=\"url\"\r\n          className=\"form__input popup__input-text_type_image-source\"\r\n          id=\"image-source-input\"\r\n          name=\"image_source\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          onChange={handleLinkChange}\r\n          value={link}\r\n          required\r\n        />\r\n        <span\r\n          className=\"form__input-error\"\r\n          id=\"image-source-input-error\"\r\n        ></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup ${props.isOpen && 'popup_opened'}`} id={props.name}>\r\n      <div onClick={props.onClose} className=\"popup__overlay popup__overlay_image\"></div>\r\n      <div className=\"popup__container popup__container_image\">\r\n        <button onClick={props.onClose} className=\"popup__close popup__close_image\" type=\"button\" />\r\n        <img className=\"popup__image\" src={`${props.card.link}`} alt={props.card.name} />\r\n        <p className=\"popup__image-text\">{props.card.name}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(option) {\r\n    this._baseUrl = option.baseUrl;\r\n    this._headers = option.headers;\r\n  }\r\n\r\n  _apiResultReturn(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      headers: {\r\n        authorization: this._headers\r\n      }\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      headers: {\r\n        authorization: this._headers\r\n      }\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  patchProfileEdit(data) {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._headers,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  postNewCard(data) {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._headers,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  deleteCard(data) {\r\n    return fetch(`${this._baseUrl}cards/${data}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._headers\r\n      }\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  changeLikeCardStatus(card, isLikes) {\r\n    if (isLikes) {\r\n      return this.likeCard(card)\r\n    } else {\r\n      return this.deleteCardLike(card)\r\n    }\r\n  }\r\n\r\n  likeCard(data) {\r\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._headers\r\n      }\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  deleteCardLike(data) {\r\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._headers\r\n      }\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  avatarEdit(data) {\r\n    return fetch(`${this._baseUrl}users/me/avatar` , {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._headers,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-16/\",\r\n  headers: \"91120ba6-b1f5-4198-9100-ce071631590f\",\r\n});\r\nexport default api;\r\n","import PopupWithForm from './PopupWithForm.js'\r\nimport React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [about, setAbout] = React.useState('');\r\n  const [buttonText, setButtonText] = React.useState('Сохранить');\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleAboutChange(e) {\r\n    setAbout(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...')\r\n    props.onUpdateUser({name, about})\r\n      .then(() => props.onClose())\r\n      .finally(() => {\r\n        setButtonText('Сохранить')\r\n      })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if(props.isOpen === true) {\r\n      setName(currentUser.name)\r\n      setAbout(currentUser.about)\r\n    }// eslint-disable-next-line\r\n  }, [props.isOpen])\r\n\r\n  return (\r\n<PopupWithForm\r\n  name=\"edit-profile\"\r\n  title=\"Редактировать профиль\"\r\n  submitText={buttonText}\r\n  isOpen={props.isOpen}\r\n  onClose={props.onClose}\r\n  onSubmit={handleSubmit}\r\n>\r\n  <label className=\"form__field\">\r\n    <input\r\n      className=\"form__input popup__input-text_type_name\"\r\n      type=\"text\"\r\n      name=\"name\"\r\n      id=\"name-input\"\r\n      minLength=\"2\" maxLength=\"40\"\r\n      value={name}\r\n      onChange={handleNameChange}\r\n      required\r\n      />\r\n    <span className=\"form__input-error\" id=\"name-input-error\"></span>\r\n  </label>\r\n  <label className=\"form__field\">\r\n    <input\r\n      className=\"form__input popup__input-text_type_description\"\r\n      type=\"text\" name=\"description\"\r\n      id=\"description-input\"\r\n      minLength=\"2\" maxLength=\"200\"\r\n      value={about}\r\n      onChange={handleAboutChange}\r\n      required\r\n      />\r\n    <span className=\"form__input-error\" id=\"description-input-error\"></span>\r\n  </label>\r\n</PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import PopupWithForm from './PopupWithForm.js'\r\nimport React from 'react';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const [buttonText, setButtonText] = React.useState('Сохранить');\r\n  const avatarRef = React.useRef()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...')\r\n    props.onUpdateAvatar({avatar: avatarRef.current.value})\r\n      .then(() => {\r\n        handleClosePopup();\r\n      })\r\n      .finally(() => {\r\n        setButtonText('Сохранить')\r\n      })\r\n  }\r\n\r\n  function handleClosePopup() {\r\n    props.onClose()\r\n    setTimeout(() => avatarRef.current.value = '', 200)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"avatarEdit\"\r\n        title=\"Обновить аватар\"\r\n        submitText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={handleClosePopup}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <label className=\"form__field\">\r\n          <input\r\n            ref={avatarRef}\r\n            type=\"url\"\r\n            className=\"form__input popup__input-text_type_image-source\"\r\n            id=\"image-source-input\"\r\n            name=\"avatar\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            required\r\n          />\r\n          <span\r\n            className=\"form__input-error\"\r\n            id=\"image-source-input-error\"\r\n          ></span>\r\n        </label>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","export default __webpack_public_path__ + \"static/media/logo.83595d7e.svg\";","export default __webpack_public_path__ + \"static/media/image.6163c203.jpg\";","import React from 'react';\r\nimport Header from './Header.js'\r\nimport Main from './Main.js'\r\nimport Footer from './Footer.js'\r\nimport AddPlacePopup from './AddPlacePopup.js'\r\nimport ImagePopup from './ImagePopup.js'\r\nimport api from '../utils/Api.js';\r\nimport EditProfilePopup from './EditProfilePopup.js'\r\nimport EditAvatarPopup from './EditAvatarPopup.js'\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nimport headerImage from '../images/header/logo.svg'\r\nimport profileImage from '../images/profile/image.jpg'\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddCardPopupOpen, setAddCardPopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false)\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [userInfoGet, setUserInfoGet] = React.useState(false);\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([\r\n      api.getUserInfo(),\r\n      api.getInitialCards()\r\n    ])\r\n    .then(([userInfo, cardList]) => {\r\n      setCurrentUser(userInfo)\r\n      setCards(cardList)\r\n      setUserInfoGet(true)\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  function clickEditProfilePopupOpenClose() {\r\n    setEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n  };\r\n  function clickAddCardPopupOpenClose() {\r\n    setAddCardPopupOpen(!isAddCardPopupOpen);\r\n  };\r\n  function clickEditAvatarPopupOpenClose() {\r\n    setEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  };\r\n  function clickImagePopupOpen(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpen(!isImagePopupOpen)\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpen(false);\r\n    setAddCardPopupOpen(false);\r\n    setEditAvatarPopupOpen(false);\r\n    setIsImagePopupOpen(false)\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    return (\r\n      api.patchProfileEdit(data)\r\n      .then((result) => {\r\n       setCurrentUser (result);\r\n      })\r\n      .catch((err) => console.log(err))\r\n    )\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    return (\r\n      api.avatarEdit(data)\r\n        .catch((err) => console.log(err))\r\n        .then((result) => {\r\n          setCurrentUser (result);\r\n         })\r\n    )\r\n  }\r\n\r\n  function handleLikeClick(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      // Обновляем стейт\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleDeleteClick(card) {\r\n    api.deleteCard(card._id)\r\n      .then((newCard) => {\r\n        const newCards = cards.filter((c) => c._id === card._id ? '' : newCard);\r\n        setCards(newCards);\r\n      })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    return (\r\n      api.postNewCard(card)\r\n        .then((newCard) => {\r\n          setCards([newCard, ...cards]);\r\n        })\r\n        .catch((err) => console.log(err))\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header headerImage={headerImage} />\r\n        <Main\r\n          loader={userInfoGet}\r\n          profileImage={profileImage}\r\n          onEditProfile={clickEditProfilePopupOpenClose}\r\n          onAddCard={clickAddCardPopupOpenClose}\r\n          onEditAvatar={clickEditAvatarPopupOpenClose}\r\n          onCardClick={clickImagePopupOpen}\r\n          cards={cards}\r\n          onCardLike={handleLikeClick}\r\n          onCardDelete={handleDeleteClick}\r\n        />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddCardPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n\r\n        <Footer />\r\n\r\n        <EditAvatarPopup\r\n          isOpen={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n        ></EditAvatarPopup>\r\n\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          isOpen={isImagePopupOpen}\r\n          onClose={closeAllPopups}\r\n        />\r\n\r\n      </CurrentUserContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './pages/index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}