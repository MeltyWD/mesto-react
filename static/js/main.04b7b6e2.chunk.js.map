{"version":3,"sources":["components/Header.js","components/Card.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","images/header/logo.svg","images/profile/image.jpg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","headerImage","alt","Card","React","useState","card","likes","some","i","_id","currentUser","liked","setLiked","isOwn","owner","onClick","onCardClick","link","name","onCardDelete","type","onCardLike","likeCounter","CurrentUserContext","createContext","Main","useContext","loader","onEditAvatar","avatar","onEditProfile","about","onAddCard","cards","map","length","noValidate","Footer","PopupWithForm","isOpen","id","onClose","onSubmit","title","children","submitText","AddPlacePopup","buttonText","setButtonText","setName","setLink","handleClosePopup","setTimeout","e","preventDefault","onAddPlace","then","finally","placeholder","minLength","maxLength","onChange","target","value","required","ImagePopup","api","option","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","authorization","_apiResultReturn","data","method","body","JSON","stringify","isLikes","likeCard","deleteCardLike","EditProfilePopup","setAbout","useEffect","onUpdateUser","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","App","isEditProfilePopupOpen","setEditProfilePopupOpenClose","isAddCardPopupOpen","setAddCardPopupOpenClose","isEditAvatarPopupOpen","setEditAvatarPopupOpenClose","selectedCard","setSelectedCard","setCurrentUser","userInfoGet","setUserInfoGet","setCards","closeAllPopups","all","getUserInfo","getInitialCards","userInfo","cardList","catch","err","console","log","Provider","profileImage","isLiked","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","patchProfileEdit","result","postNewCard","avatarEdit","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.04b7b6e2.chunk.js","sourcesContent":["function Header(props) {\r\n  return (\r\n    <header className=\"header\">\r\n      <img\r\n        className=\"header__logo\"\r\n        src={props.headerImage}\r\n        alt=\"Лого Место\"\r\n      />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React from \"react\";\r\n\r\nfunction Card(props) {\r\n  const [liked, setLiked] = React.useState(\r\n    props.card.likes.some((i) => i._id === props.currentUser._id)\r\n  );\r\n  const isOwn = props.card.owner._id === props.currentUser._id;\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function likeClick() {\r\n    setLiked(!liked);\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onCardDelete(props.card)\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <div className=\"element__image-container\">\r\n        <img\r\n          onClick={handleClick}\r\n          className=\"element__image\"\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n        ></img>\r\n      </div>\r\n      <button\r\n        onClick={handleDeleteClick}\r\n        className={`element__trash ${isOwn ? \"element__trash_active\" : \"\"}`}\r\n        type=\"button\"\r\n      />\r\n      <div className=\"element__text-box\">\r\n        <h4 className=\"element__name\">{props.card.name}</h4>\r\n        <div className=\"element__like-box\">\r\n          <button\r\n            onClick={likeClick}\r\n            className={`element__like ${liked && \"element__like_active\"}`}\r\n            type=\"button\"\r\n          />\r\n          <p className=\"element__likes\">{props.likeCounter}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n      <div className={`loading ${props.loader && 'hide'}`}></div>\r\n      <main className={`content ${!props.loader && 'hide'}`}>\r\n        <section className=\"profile\">\r\n          <div className=\"profile__avatar-container\">\r\n            <img onClick={props.onEditAvatar}\r\n            className=\"profile__avatar\"\r\n            src={currentUser.avatar}\r\n            alt=\"Фото профиля\"\r\n            />\r\n          </div>\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{currentUser.name || ''}</h1>\r\n            <button onClick={props.onEditProfile} className=\"profile__edit-button\" type=\"button\" />\r\n            <p className=\"profile__description\">{currentUser.about || ''}</p>\r\n          </div>\r\n          <button onClick={props.onAddCard} className=\"profile__add\" type=\"button\" />\r\n        </section>\r\n\r\n        <section className=\"elements\">\r\n          <ul className=\"elements_list\">\r\n            {props.cards.map(card =>\r\n              <Card\r\n              currentUser={currentUser}\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              likeCounter={card.likes.length}\r\n              onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete}\r\n            />\r\n            )}\r\n          </ul>\r\n        </section>\r\n      </main>\r\n\r\n      <div className=\"popup popup_image\">\r\n        <div className=\"popup__overlay popup__overlay_image\"></div>\r\n        <div className=\"popup__container popup__container_image\">\r\n          <button className=\"popup__close popup__close_image\" type=\"button\" />\r\n          <img className=\"popup__image\" src=\"#\" alt=\"none\" />\r\n          <p className=\"popup__image-text\"></p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"popup popup_delete\">\r\n        <div className=\"popup__overlay popup__overlay_delete\"></div>\r\n        <div className=\"popup__container\">\r\n          <button className=\"popup__close popup__close_delete\" type=\"button\" />\r\n          <form className=\"form form_type_delete\" name=\"imageDelete\" noValidate>\r\n            <h4 className=\"form__title form__title_delete\">Вы уверены?</h4>\r\n            <button type=\"submit\" className=\"form__submit\">Да</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n\r\n\r\n}\r\n\r\nexport default Main\r\n","function Footer(props) {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","function PopupWithForm(props) {\r\n  return (\r\n      <div className={`popup ${props.isOpen && 'popup_opened'}`} id={props.name}>\r\n        <div onClick={props.onClose} className=\"popup__overlay\"></div>\r\n        <div className=\"popup__container\">\r\n          <button onClick={props.onClose} className=\"popup__close popup__close_edit\" type=\"button\" />\r\n          <form onSubmit={props.onSubmit} className=\"form\" name={props.name} noValidate>\r\n            <h2 className=\"form__title\">{props.title}</h2>\r\n            {props.children}\r\n            <button type=\"submit\" className=\"form__submit\">{props.submitText}</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import PopupWithForm from './PopupWithForm.js'\r\nimport React from 'react';\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [buttonText, setButtonText] = React.useState('Создать');\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleLinkChange(e) {\r\n    setLink(e.target.value);\r\n  }\r\n  function handleClosePopup() {\r\n    props.onClose()\r\n    setTimeout(() => {\r\n      setName('');\r\n      setLink('');\r\n    }, 200)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Создаем...')\r\n    props.onAddPlace({name, link})\r\n      .then(() => handleClosePopup())\r\n      .finally(() => {\r\n        setButtonText('Создать')\r\n      })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"cardAdd\"\r\n      title=\"Новое место\"\r\n      submitText={buttonText}\r\n      isOpen={props.isOpen}\r\n      onClose={handleClosePopup}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <label className=\"form__field\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form__input popup__input-text_type_image-name\"\r\n          id=\"image-name-input\"\r\n          name=\"image_name\"\r\n          placeholder=\"Название\"\r\n          minLength=\"1\"\r\n          maxLength=\"30\"\r\n          onChange={handleNameChange}\r\n          value={name}\r\n          required\r\n        />\r\n        <span className=\"form__input-error\" id=\"image-name-input-error\"></span>\r\n      </label>\r\n      <label className=\"form__field\">\r\n        <input\r\n          type=\"url\"\r\n          className=\"form__input popup__input-text_type_image-source\"\r\n          id=\"image-source-input\"\r\n          name=\"image_source\"\r\n          placeholder=\"Ссылка на картинку\"\r\n          onChange={handleLinkChange}\r\n          value={link}\r\n          required\r\n        />\r\n        <span\r\n          className=\"form__input-error\"\r\n          id=\"image-source-input-error\"\r\n        ></span>\r\n      </label>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup ${props.card && 'popup_opened'}`} id={props.name}>\r\n      <div onClick={props.onClose} className=\"popup__overlay popup__overlay_image\"></div>\r\n      <div className=\"popup__container popup__container_image\">\r\n        <button onClick={props.onClose} className=\"popup__close popup__close_image\" type=\"button\" />\r\n        <img className=\"popup__image\" src={`${props.card.link}`} alt={props.card.name} />\r\n        <p className=\"popup__image-text\"></p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(option) {\r\n    this._baseUrl = option.baseUrl;\r\n    this._headers = option.headers;\r\n  }\r\n\r\n  _apiResultReturn(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(`Что-то пошло не так: ${res.status}`);\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      headers: {\r\n        authorization: this._headers\r\n      }\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      headers: {\r\n        authorization: this._headers\r\n      }\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  patchProfileEdit(data) {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._headers,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  postNewCard(data) {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._headers,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  deleteCard(data) {\r\n    return fetch(`${this._baseUrl}cards/${data}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._headers\r\n      }\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  changeLikeCardStatus(card, isLikes) {\r\n    if (isLikes) {\r\n      return this.likeCard(card)\r\n    } else {\r\n      return this.deleteCardLike(card)\r\n    }\r\n  }\r\n\r\n  likeCard(data) {\r\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._headers\r\n      }\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  deleteCardLike(data) {\r\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._headers\r\n      }\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n\r\n  avatarEdit(data) {\r\n    return fetch(`${this._baseUrl}users/me/avatar` , {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._headers,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(data)\r\n    }).then((res) => this._apiResultReturn(res))\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-16/\",\r\n  headers: \"91120ba6-b1f5-4198-9100-ce071631590f\",\r\n});\r\nexport default api;\r\n","import PopupWithForm from './PopupWithForm.js'\r\nimport React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [about, setAbout] = React.useState('');\r\n  const [buttonText, setButtonText] = React.useState('Сохранить');\r\n\r\n  function handleNameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function handleAboutChange(e) {\r\n    setAbout(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...')\r\n    props.onUpdateUser({name, about})\r\n      .then(() => props.onClose())\r\n      .finally(() => {\r\n        setButtonText('Сохранить')\r\n      })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if(props.isOpen === true) {\r\n      setName(currentUser.name)\r\n      setAbout(currentUser.about)\r\n    }// eslint-disable-next-line\r\n  }, [props.isOpen])\r\n\r\n  return (\r\n<PopupWithForm\r\n  name=\"edit-profile\"\r\n  title=\"Редактировать профиль\"\r\n  submitText={buttonText}\r\n  isOpen={props.isOpen}\r\n  onClose={props.onClose}\r\n  onSubmit={handleSubmit}\r\n>\r\n  <label className=\"form__field\">\r\n    <input\r\n      className=\"form__input popup__input-text_type_name\"\r\n      type=\"text\"\r\n      name=\"name\"\r\n      id=\"name-input\"\r\n      minLength=\"2\" maxLength=\"40\"\r\n      value={name}\r\n      onChange={handleNameChange}\r\n      required\r\n      />\r\n    <span className=\"form__input-error\" id=\"name-input-error\"></span>\r\n  </label>\r\n  <label className=\"form__field\">\r\n    <input\r\n      className=\"form__input popup__input-text_type_description\"\r\n      type=\"text\" name=\"description\"\r\n      id=\"description-input\"\r\n      minLength=\"2\" maxLength=\"200\"\r\n      value={about}\r\n      onChange={handleAboutChange}\r\n      required\r\n      />\r\n    <span className=\"form__input-error\" id=\"description-input-error\"></span>\r\n  </label>\r\n</PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import PopupWithForm from './PopupWithForm.js'\r\nimport React from 'react';\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const [buttonText, setButtonText] = React.useState('Сохранить');\r\n  const avatarRef = React.useRef()\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setButtonText('Загрузка...')\r\n    props.onUpdateAvatar({avatar: avatarRef.current.value})\r\n      .then(() => {\r\n        handleClosePopup();\r\n      })\r\n      .finally(() => {\r\n        setButtonText('Сохранить')\r\n      })\r\n  }\r\n\r\n  function handleClosePopup() {\r\n    props.onClose()\r\n    setTimeout(() => avatarRef.current.value = '', 200)\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n        name=\"avatarEdit\"\r\n        title=\"Обновить аватар\"\r\n        submitText={buttonText}\r\n        isOpen={props.isOpen}\r\n        onClose={handleClosePopup}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <label className=\"form__field\">\r\n          <input\r\n            ref={avatarRef}\r\n            type=\"url\"\r\n            className=\"form__input popup__input-text_type_image-source\"\r\n            id=\"image-source-input\"\r\n            name=\"avatar\"\r\n            placeholder=\"Ссылка на картинку\"\r\n            required\r\n          />\r\n          <span\r\n            className=\"form__input-error\"\r\n            id=\"image-source-input-error\"\r\n          ></span>\r\n        </label>\r\n      </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","export default __webpack_public_path__ + \"static/media/logo.83595d7e.svg\";","export default __webpack_public_path__ + \"static/media/image.6163c203.jpg\";","import React from 'react';\r\nimport Header from './Header.js'\r\nimport Main from './Main.js'\r\nimport Footer from './Footer.js'\r\nimport AddPlacePopup from './AddPlacePopup.js'\r\nimport ImagePopup from './ImagePopup.js'\r\nimport api from '../utils/Api.js';\r\nimport EditProfilePopup from './EditProfilePopup.js'\r\nimport EditAvatarPopup from './EditAvatarPopup.js'\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nimport headerImage from '../images/header/logo.svg'\r\nimport profileImage from '../images/profile/image.jpg'\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpenClose] = React.useState(false);\r\n  const [isAddCardPopupOpen, setAddCardPopupOpenClose] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpenClose] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState('');\r\n  const [currentUser, setCurrentUser] = React.useState([]);\r\n  const [userInfoGet, setUserInfoGet] = React.useState(false);\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([\r\n      api.getUserInfo(),\r\n      api.getInitialCards()\r\n    ])\r\n    .then(([userInfo, cardList]) => {\r\n      setCurrentUser(userInfo)\r\n      setCards(cardList)\r\n    })\r\n    .catch((err) => console.log(err))\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    if(currentUser.length !== 0) {\r\n      setUserInfoGet(true)\r\n    }\r\n  }, [currentUser])\r\n\r\n  function clickEditProfilePopupOpenClose() {\r\n    setEditProfilePopupOpenClose(!isEditProfilePopupOpen);\r\n  };\r\n  function clickAddCardPopupOpenClose() {\r\n    setAddCardPopupOpenClose(!isAddCardPopupOpen);\r\n  };\r\n  function clickEditAvatarPopupOpenClose() {\r\n    setEditAvatarPopupOpenClose(!isEditAvatarPopupOpen);\r\n  };\r\n  function clickImagePopupOpen(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditProfilePopupOpenClose(false);\r\n    setAddCardPopupOpenClose(false);\r\n    setEditAvatarPopupOpenClose(false);\r\n    setSelectedCard('');\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    return (\r\n      api.patchProfileEdit(data)\r\n      .then((result) => {\r\n       setCurrentUser (result);\r\n      })\r\n      .catch((err) => console.log(err))\r\n    )\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    return (\r\n      api.avatarEdit(data)\r\n        .catch((err) => console.log(err))\r\n        .then((result) => {\r\n          setCurrentUser (result);\r\n         })\r\n    )\r\n  }\r\n\r\n  function handleLikeClick(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n      // Обновляем стейт\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleDeleteClick(card) {\r\n    api.deleteCard(card._id)\r\n      .then((newCard) => {\r\n        const newCards = cards.filter((c) => c._id === card._id ? '' : newCard);\r\n        setCards(newCards);\r\n      })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    return (\r\n      api.postNewCard(card)\r\n        .then((newCard) => {\r\n          setCards([newCard, ...cards]);\r\n        })\r\n        .catch((err) => console.log(err))\r\n    )\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Header headerImage={headerImage} />\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Main\r\n          loader={userInfoGet}\r\n          profileImage={profileImage}\r\n          onEditProfile={clickEditProfilePopupOpenClose}\r\n          onAddCard={clickAddCardPopupOpenClose}\r\n          onEditAvatar={clickEditAvatarPopupOpenClose}\r\n          onCardClick={clickImagePopupOpen}\r\n          cards={cards}\r\n          onCardLike={handleLikeClick}\r\n          onCardDelete={handleDeleteClick}\r\n        />\r\n\r\n        <EditProfilePopup\r\n          isOpen={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpen={isAddCardPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onAddPlace={handleAddPlaceSubmit}\r\n        />\r\n      </CurrentUserContext.Provider>\r\n      <Footer />\r\n\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      ></EditAvatarPopup>\r\n\r\n\r\n\r\n      <ImagePopup\r\n        card={selectedCard}\r\n        onClose={closeAllPopups}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './pages/index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}